# Fida Policy Contract

\
The Fida Policy Contract serves as a central entity within the system. It operates as a contract that is parameterized by a single element, namely `policyId`, which stands as a unique identifier.

Below you can find a definition of its validator function with `PolicyId` as a first parameter.

```haskell
mkFidaContractValidator ::
  PolicyId ->
  FidaContractDatum ->
  FidaContractRedeemer ->
  ScriptContext ->
  Bool
```

Technically `PolicyId` is a wrapper around the currency symbol generated by the Fida Contract Minting Policy.&#x20;

```haskell
newtype PolicyId = PolicyId CurrencySymbol
```

To ensure the uniqueness of each `policyId`, the Fida Contract Minting Policy is configured with an unspent UTXO (`TxOutRef`) that must be spent during the minting process. It's important to note that the `policyId` unequivocally dictates the validator address.

```haskell
mkFidaContractMintingPolicy ::
  TxOutRef ->
  () ->
  ScriptContext ->
  Bool
```



<pre class="language-haskell"><code class="lang-haskell">data FidaContractDatum = FidaContractDatum
  { collateralAmount :: Integer
  , fidaCardValue    :: Integer
  , premiumAmount    :: Integer
  , policyHolder     :: Address
  , policyAuthority  :: PolicyAuthority
  , startDate        :: Maybe POSIXTime
  , paymentIntervals :: Integer
  , contractState    :: FidaContractState
  }
  
data FidaContractState = Initialized | OnRisk

data FidaContractRedeemer = BuyFidaCard Integer | PayPremium Integer | Activate

data PolicyAuthority
  = SingleSign PubKeyHash
  | AtLeastOneSign [PubKeyHash]
  | AllMustSign [PubKeyHash]
  | MajorityMustSign [PubKeyHash]

<strong>
</strong>
newtype SystemId = SystemId CurrencySymbol

newtype SystemGovernance = SystemGovernance PubKeyHash
</code></pre>
